<!DOCTYPE html>
<html>
<head>
    <title>TradingView Widget</title>
</head>
<body>
    <div id="widget-container" class="tradingview-widget-container">
      <div id="widget" class="tradingview-widget-container__widget"></div>
      <div class="tradingview-widget-copyright">
        <a href="https://www.tradingview.com/" rel="noopener nofollow" target="_blank">
          <span class="blue-text">Track all markets on TradingView</span>
        </a>
      </div>
    </div>
    <script type="text/javascript">
      function getParameterByName(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, '\\$&');
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, ' '));
      }

      var symbol = getParameterByName('symbol') || 'NASDAQ:AAPL';
      var script = document.createElement('script');
      script.type = 'text/javascript';
      script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js';
      script.async = true;
      script.innerHTML = JSON.stringify({
        "interval": "1month",
        "width": 425,
        "isTransparent": false,
        "height": 450,
        "symbol": symbol,
        "showIntervalTabs": true,
        "displayMode": "single",
        "locale": "en",
        "colorTheme": "light"
      });

      document.getElementById('widget').appendChild(script);
    </script>
</body>
</html>

